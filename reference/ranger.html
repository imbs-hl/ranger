<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Ranger — ranger • ranger</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Ranger — ranger" />
<meta property="og:description" content="Ranger is a fast implementation of random forests (Breiman 2001) or recursive partitioning, particularly suited for high dimensional data.
Classification, regression, and survival forests are supported.
Classification and regression forests are implemented as in the original Random Forest (Breiman 2001), survival forests as in Random Survival Forests (Ishwaran et al. 2008).
Includes implementations of extremely randomized trees (Geurts et al. 2006) and quantile regression forests (Meinshausen 2006)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ranger</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.13.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/imbs-hl/ranger/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Ranger</h1>
    <small class="dont-index">Source: <a href='https://github.com/imbs-hl/ranger/blob/master/R/ranger.R'><code>R/ranger.R</code></a></small>
    <div class="hidden name"><code>ranger.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Ranger is a fast implementation of random forests (Breiman 2001) or recursive partitioning, particularly suited for high dimensional data.
Classification, regression, and survival forests are supported.
Classification and regression forests are implemented as in the original Random Forest (Breiman 2001), survival forests as in Random Survival Forests (Ishwaran et al. 2008).
Includes implementations of extremely randomized trees (Geurts et al. 2006) and quantile regression forests (Meinshausen 2006).</p>
    </div>

    <pre class="usage"><span class='fu'>ranger</span><span class='op'>(</span>
  formula <span class='op'>=</span> <span class='cn'>NULL</span>,
  data <span class='op'>=</span> <span class='cn'>NULL</span>,
  num.trees <span class='op'>=</span> <span class='fl'>500</span>,
  mtry <span class='op'>=</span> <span class='cn'>NULL</span>,
  importance <span class='op'>=</span> <span class='st'>"none"</span>,
  write.forest <span class='op'>=</span> <span class='cn'>TRUE</span>,
  probability <span class='op'>=</span> <span class='cn'>FALSE</span>,
  min.node.size <span class='op'>=</span> <span class='cn'>NULL</span>,
  max.depth <span class='op'>=</span> <span class='cn'>NULL</span>,
  replace <span class='op'>=</span> <span class='cn'>TRUE</span>,
  sample.fraction <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>replace</span>, <span class='fl'>1</span>, <span class='fl'>0.632</span><span class='op'>)</span>,
  case.weights <span class='op'>=</span> <span class='cn'>NULL</span>,
  class.weights <span class='op'>=</span> <span class='cn'>NULL</span>,
  splitrule <span class='op'>=</span> <span class='cn'>NULL</span>,
  num.random.splits <span class='op'>=</span> <span class='fl'>1</span>,
  alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
  minprop <span class='op'>=</span> <span class='fl'>0.1</span>,
  split.select.weights <span class='op'>=</span> <span class='cn'>NULL</span>,
  always.split.variables <span class='op'>=</span> <span class='cn'>NULL</span>,
  respect.unordered.factors <span class='op'>=</span> <span class='cn'>NULL</span>,
  scale.permutation.importance <span class='op'>=</span> <span class='cn'>FALSE</span>,
  local.importance <span class='op'>=</span> <span class='cn'>FALSE</span>,
  regularization.factor <span class='op'>=</span> <span class='fl'>1</span>,
  regularization.usedepth <span class='op'>=</span> <span class='cn'>FALSE</span>,
  keep.inbag <span class='op'>=</span> <span class='cn'>FALSE</span>,
  inbag <span class='op'>=</span> <span class='cn'>NULL</span>,
  holdout <span class='op'>=</span> <span class='cn'>FALSE</span>,
  quantreg <span class='op'>=</span> <span class='cn'>FALSE</span>,
  oob.error <span class='op'>=</span> <span class='cn'>TRUE</span>,
  num.threads <span class='op'>=</span> <span class='cn'>NULL</span>,
  save.memory <span class='op'>=</span> <span class='cn'>FALSE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  seed <span class='op'>=</span> <span class='cn'>NULL</span>,
  dependent.variable.name <span class='op'>=</span> <span class='cn'>NULL</span>,
  status.variable.name <span class='op'>=</span> <span class='cn'>NULL</span>,
  classification <span class='op'>=</span> <span class='cn'>NULL</span>,
  x <span class='op'>=</span> <span class='cn'>NULL</span>,
  y <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>Object of class <code>formula</code> or <code>character</code> describing the model to fit. Interaction terms supported only for numerical variables.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Training data of class <code>data.frame</code>, <code>matrix</code>, <code>dgCMatrix</code> (Matrix) or <code>gwaa.data</code> (GenABEL).</p></td>
    </tr>
    <tr>
      <th>num.trees</th>
      <td><p>Number of trees.</p></td>
    </tr>
    <tr>
      <th>mtry</th>
      <td><p>Number of variables to possibly split at in each node. Default is the (rounded down) square root of the number variables. Alternatively, a single argument function returning an integer, given the number of independent variables.</p></td>
    </tr>
    <tr>
      <th>importance</th>
      <td><p>Variable importance mode, one of 'none', 'impurity', 'impurity_corrected', 'permutation'. The 'impurity' measure is the Gini index for classification, the variance of the responses for regression and the sum of test statistics (see <code>splitrule</code>) for survival.</p></td>
    </tr>
    <tr>
      <th>write.forest</th>
      <td><p>Save <code>ranger.forest</code> object, required for prediction. Set to <code>FALSE</code> to reduce memory usage if no prediction intended.</p></td>
    </tr>
    <tr>
      <th>probability</th>
      <td><p>Grow a probability forest as in Malley et al. (2012).</p></td>
    </tr>
    <tr>
      <th>min.node.size</th>
      <td><p>Minimal node size. Default 1 for classification, 5 for regression, 3 for survival, and 10 for probability.</p></td>
    </tr>
    <tr>
      <th>max.depth</th>
      <td><p>Maximal tree depth. A value of NULL or 0 (the default) corresponds to unlimited depth, 1 to tree stumps (1 split per tree).</p></td>
    </tr>
    <tr>
      <th>replace</th>
      <td><p>Sample with replacement.</p></td>
    </tr>
    <tr>
      <th>sample.fraction</th>
      <td><p>Fraction of observations to sample. Default is 1 for sampling with replacement and 0.632 for sampling without replacement. For classification, this can be a vector of class-specific values.</p></td>
    </tr>
    <tr>
      <th>case.weights</th>
      <td><p>Weights for sampling of training observations. Observations with larger weights will be selected with higher probability in the bootstrap (or subsampled) samples for the trees.</p></td>
    </tr>
    <tr>
      <th>class.weights</th>
      <td><p>Weights for the outcome classes (in order of the factor levels) in the splitting rule (cost sensitive learning). Classification and probability prediction only. For classification the weights are also applied in the majority vote in terminal nodes.</p></td>
    </tr>
    <tr>
      <th>splitrule</th>
      <td><p>Splitting rule. For classification and probability estimation "gini", "extratrees" or "hellinger" with default "gini". For regression "variance", "extratrees", "maxstat" or "beta" with default "variance". For survival "logrank", "extratrees", "C" or "maxstat" with default "logrank".</p></td>
    </tr>
    <tr>
      <th>num.random.splits</th>
      <td><p>For "extratrees" splitrule.: Number of random splits to consider for each candidate splitting variable.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>For "maxstat" splitrule: Significance threshold to allow splitting.</p></td>
    </tr>
    <tr>
      <th>minprop</th>
      <td><p>For "maxstat" splitrule: Lower quantile of covariate distribution to be considered for splitting.</p></td>
    </tr>
    <tr>
      <th>split.select.weights</th>
      <td><p>Numeric vector with weights between 0 and 1, representing the probability to select variables for splitting. Alternatively, a list of size num.trees, containing split select weight vectors for each tree can be used.</p></td>
    </tr>
    <tr>
      <th>always.split.variables</th>
      <td><p>Character vector with variable names to be always selected in addition to the <code>mtry</code> variables tried for splitting.</p></td>
    </tr>
    <tr>
      <th>respect.unordered.factors</th>
      <td><p>Handling of unordered factor covariates. One of 'ignore', 'order' and 'partition'. For the "extratrees" splitrule the default is "partition" for all other splitrules 'ignore'. Alternatively TRUE (='order') or FALSE (='ignore') can be used. See below for details.</p></td>
    </tr>
    <tr>
      <th>scale.permutation.importance</th>
      <td><p>Scale permutation importance by standard error as in (Breiman 2001). Only applicable if permutation variable importance mode selected.</p></td>
    </tr>
    <tr>
      <th>local.importance</th>
      <td><p>Calculate and return local importance values as in (Breiman 2001). Only applicable if <code>importance</code> is set to 'permutation'.</p></td>
    </tr>
    <tr>
      <th>regularization.factor</th>
      <td><p>Regularization factor (gain penalization), either a vector of length p or one value for all variables.</p></td>
    </tr>
    <tr>
      <th>regularization.usedepth</th>
      <td><p>Consider the depth in regularization.</p></td>
    </tr>
    <tr>
      <th>keep.inbag</th>
      <td><p>Save how often observations are in-bag in each tree.</p></td>
    </tr>
    <tr>
      <th>inbag</th>
      <td><p>Manually set observations per tree. List of size num.trees, containing inbag counts for each observation. Can be used for stratified sampling.</p></td>
    </tr>
    <tr>
      <th>holdout</th>
      <td><p>Hold-out mode. Hold-out all samples with case weight 0 and use these for variable importance and prediction error.</p></td>
    </tr>
    <tr>
      <th>quantreg</th>
      <td><p>Prepare quantile prediction as in quantile regression forests (Meinshausen 2006). Regression only. Set <code>keep.inbag = TRUE</code> to prepare out-of-bag quantile prediction.</p></td>
    </tr>
    <tr>
      <th>oob.error</th>
      <td><p>Compute OOB prediction error. Set to <code>FALSE</code> to save computation time, e.g. for large survival forests.</p></td>
    </tr>
    <tr>
      <th>num.threads</th>
      <td><p>Number of threads. Default is number of CPUs available.</p></td>
    </tr>
    <tr>
      <th>save.memory</th>
      <td><p>Use memory saving (but slower) splitting mode. No effect for survival and GWAS data. Warning: This option slows down the tree growing, use only if you encounter memory problems.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Show computation status and estimated runtime.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>Random seed. Default is <code>NULL</code>, which generates the seed from <code>R</code>. Set to <code>0</code> to ignore the <code>R</code> seed.</p></td>
    </tr>
    <tr>
      <th>dependent.variable.name</th>
      <td><p>Name of dependent variable, needed if no formula given. For survival forests this is the time variable.</p></td>
    </tr>
    <tr>
      <th>status.variable.name</th>
      <td><p>Name of status variable, only applicable to survival data and needed if no formula given. Use 1 for event and 0 for censoring.</p></td>
    </tr>
    <tr>
      <th>classification</th>
      <td><p>Set to <code>TRUE</code> to grow a classification forest. Only needed if the data is a matrix or the response numeric.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Predictor data (independent variables), alternative interface to data with formula or dependent.variable.name.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>Response vector (dependent variable), alternative interface to data with formula or dependent.variable.name. For survival use a <code>Surv()</code> object or a matrix with time and status.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods (currently ignored).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Object of class <code>ranger</code> with elements</p>
<dt><code>forest</code></dt><dd><p>Saved forest (If write.forest set to TRUE). Note that the variable IDs in the <code>split.varIDs</code> object do not necessarily represent the column number in R.</p></dd>
  <dt><code>predictions</code></dt><dd><p>Predicted classes/values, based on out of bag samples (classification and regression only).</p></dd>
  <dt><code>variable.importance</code></dt><dd><p>Variable importance for each independent variable.</p></dd>
  <dt><code>variable.importance.local</code></dt><dd><p>Variable importance for each independent variable and each sample, if <code>local.importance</code> is set to TRUE and <code>importance</code> is set to 'permutation'.</p></dd>
  <dt><code>prediction.error</code></dt><dd><p>Overall out of bag prediction error. For classification this is the fraction of missclassified samples, for probability estimation the Brier score, for regression the mean squared error and for survival one minus Harrell's C-index.</p></dd>
  <dt><code>r.squared</code></dt><dd><p>R squared. Also called explained variance or coefficient of determination (regression only). Computed on out of bag data.</p></dd>
  <dt><code>confusion.matrix</code></dt><dd><p>Contingency table for classes and predictions based on out of bag samples (classification only).</p></dd>
  <dt><code>unique.death.times</code></dt><dd><p>Unique death times (survival only).</p></dd>
  <dt><code>chf</code></dt><dd><p>Estimated cumulative hazard function for each sample (survival only).</p></dd>
  <dt><code>survival</code></dt><dd><p>Estimated survival function for each sample (survival only).</p></dd>
  <dt><code>call</code></dt><dd><p>Function call.</p></dd>
  <dt><code>num.trees</code></dt><dd><p>Number of trees.</p></dd>
  <dt><code>num.independent.variables</code></dt><dd><p>Number of independent variables.</p></dd>
  <dt><code>mtry</code></dt><dd><p>Value of mtry used.</p></dd>
  <dt><code>min.node.size</code></dt><dd><p>Value of minimal node size used.</p></dd>
  <dt><code>treetype</code></dt><dd><p>Type of forest/tree. classification, regression or survival.</p></dd>
  <dt><code>importance.mode</code></dt><dd><p>Importance mode used.</p></dd>
  <dt><code>num.samples</code></dt><dd><p>Number of samples.</p></dd>
  <dt><code>inbag.counts</code></dt><dd><p>Number of times the observations are in-bag in the trees.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The tree type is determined by the type of the dependent variable.
For factors classification trees are grown, for numeric values regression trees and for survival objects survival trees.
The Gini index is used as default splitting rule for classification.
For regression, the estimated response variances or maximally selected rank statistics (Wright et al. 2016) can be used.
For Survival the log-rank test, a C-index based splitting rule (Schmid et al. 2015) and maximally selected rank statistics (Wright et al. 2016) are available.
For all tree types, forests of extremely randomized trees (Geurts et al. 2006) can be grown.</p>
<p>With the <code>probability</code> option and factor dependent variable a probability forest is grown.
Here, the node impurity is used for splitting, as in classification forests.
Predictions are class probabilities for each sample.
In contrast to other implementations, each tree returns a probability estimate and these estimates are averaged for the forest probability estimate.
For details see Malley et al. (2012).</p>
<p>Note that for classification and regression nodes with size smaller than <code>min.node.size</code> can occur, as in original Random Forests.
For survival all nodes contain at <code>min.node.size</code> samples. 
Variables selected with <code>always.split.variables</code> are tried additionally to the mtry variables randomly selected.
In <code>split.select.weights</code>, weights do not need to sum up to 1, they will be normalized later. 
The weights are assigned to the variables in the order they appear in the formula or in the data if no formula is used.
Names of the <code>split.select.weights</code> vector are ignored.
The usage of <code>split.select.weights</code> can increase the computation times for large forests.</p>
<p>Unordered factor covariates can be handled in 3 different ways by using <code>respect.unordered.factors</code>: 
For 'ignore' all factors are regarded ordered, for 'partition' all possible 2-partitions are considered for splitting. 
For 'order' and 2-class classification the factor levels are ordered by their proportion falling in the second class, for regression by their mean response, as described in Hastie et al. (2009), chapter 9.2.4.
For multiclass classification the factor levels are ordered by the first principal component of the weighted covariance matrix of the contingency table (Coppersmith et al. 1999), for survival by the median survival (or the largest available quantile if the median is not available).
The use of 'order' is recommended, as it computationally fast and can handle an unlimited number of factor levels. 
Note that the factors are only reordered once and not again in each split.</p>
<p>The 'impurity_corrected' importance measure is unbiased in terms of the number of categories and category frequencies and is almost as fast as the standard impurity importance.
It is a modified version of the method by Sandri &amp; Zuccolotto (2008), which is faster and more memory efficient. 
See Nembrini et al. (2018) for details.
This importance measure can be combined with the methods to estimate p-values in <code><a href='importance_pvalues.html'>importance_pvalues</a></code>.</p>
<p>Regularization works by penalizing new variables by multiplying the splitting criterion by a factor, see Deng &amp; Runger (2012) for details.  
If <code>regularization.usedepth=TRUE</code>, \(f^d\) is used, where <em>f</em> is the regularization factor and <em>d</em> the depth of the node.
If regularization is used, multithreading is deactivated because all trees need access to the list of variables that are already included in the model.</p>
<p>For a large number of variables and data frames as input data the formula interface can be slow or impossible to use.
Alternatively <code>dependent.variable.name</code> (and <code>status.variable.name</code> for survival) or <code>x</code> and <code>y</code> can be used.
Use <code>x</code> and <code>y</code> with a matrix for <code>x</code> to avoid conversions and save memory.
Consider setting <code>save.memory = TRUE</code> if you encounter memory problems for very large datasets, but be aware that this option slows down the tree growing.</p>
<p>For GWAS data consider combining <code>ranger</code> with the <code>GenABEL</code> package. 
See the Examples section below for a demonstration using <code>Plink</code> data.
All SNPs in the <code>GenABEL</code> object will be used for splitting. 
To use only the SNPs without sex or other covariates from the phenotype file, use <code>0</code> on the right hand side of the formula. 
Note that missing values are treated as an extra category while splitting.</p>
<p>See <a href='https://github.com/imbs-hl/ranger'>https://github.com/imbs-hl/ranger</a> for the development version.</p>
<p>With recent R versions, multithreading on Windows platforms should just work. 
If you compile yourself, the new RTools toolchain is required.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Wright, M. N. &amp; Ziegler, A. (2017). ranger: A fast implementation of random forests for high dimensional data in C++ and R. J Stat Softw 77:1-17. doi: <a href='https://doi.org/10.18637/jss.v077.i01'>10.18637/jss.v077.i01</a>
.</p></li>
<li><p>Schmid, M., Wright, M. N. &amp; Ziegler, A. (2016). On the use of Harrell's C for clinical risk prediction via random survival forests. Expert Syst Appl 63:450-459. doi: <a href='https://doi.org/10.1016/j.eswa.2016.07.018'>10.1016/j.eswa.2016.07.018</a>
.</p></li>
<li><p>Wright, M. N., Dankowski, T. &amp; Ziegler, A. (2017). Unbiased split variable selection for random survival forests using maximally selected rank statistics. Stat Med 36:1272-1284. doi: <a href='https://doi.org/10.1002/sim.7212'>10.1002/sim.7212</a>
.</p></li>
<li><p>Nembrini, S., Koenig, I. R. &amp; Wright, M. N. (2018). The revival of the Gini Importance? Bioinformatics. doi: <a href='https://doi.org/10.1093/bioinformatics/bty373'>10.1093/bioinformatics/bty373</a>
.</p></li>
<li><p>Breiman, L. (2001). Random forests. Mach Learn, 45:5-32. doi: <a href='https://doi.org/10.1023/A:1010933404324'>10.1023/A:1010933404324</a>
.</p></li>
<li><p>Ishwaran, H., Kogalur, U. B., Blackstone, E. H., &amp; Lauer, M. S. (2008). Random survival forests. Ann Appl Stat 2:841-860. doi: <a href='https://doi.org/10.1097/JTO.0b013e318233d835'>10.1097/JTO.0b013e318233d835</a>
.</p></li>
<li><p>Malley, J. D., Kruppa, J., Dasgupta, A., Malley, K. G., &amp; Ziegler, A. (2012). Probability machines: consistent probability estimation using nonparametric learning machines. Methods Inf Med 51:74-81. doi: <a href='https://doi.org/10.3414/ME00-01-0052'>10.3414/ME00-01-0052</a>
.</p></li>
<li><p>Hastie, T., Tibshirani, R., Friedman, J. (2009). The Elements of Statistical Learning. Springer, New York. 2nd edition.</p></li>
<li><p>Geurts, P., Ernst, D., Wehenkel, L. (2006). Extremely randomized trees. Mach Learn 63:3-42. doi: <a href='https://doi.org/10.1007/s10994-006-6226-1'>10.1007/s10994-006-6226-1</a>
.</p></li>
<li><p>Meinshausen (2006). Quantile Regression Forests. J Mach Learn Res 7:983-999. <a href='https://www.jmlr.org/papers/v7/meinshausen06a.html'>https://www.jmlr.org/papers/v7/meinshausen06a.html</a>.</p></li>
<li><p>Sandri, M. &amp; Zuccolotto, P. (2008). A bias correction algorithm for the Gini variable importance measure in classification trees. J Comput Graph Stat, 17:611-628. doi: <a href='https://doi.org/10.1198/106186008X344522'>10.1198/106186008X344522</a>
.</p></li>
<li><p>Coppersmith D., Hong S. J., Hosking J. R. (1999). Partitioning nominal attributes in decision trees. Data Min Knowl Discov 3:197-217. doi: <a href='https://doi.org/10.1023/A:1009869804967'>10.1023/A:1009869804967</a>
.</p></li>
<li><p>Deng &amp; Runger (2012). Feature selection via regularized trees. The 2012 International Joint Conference on Neural Networks (IJCNN), Brisbane, Australia. doi: <a href='https://doi.org/10.1109/IJCNN.2012.6252640'>10.1109/IJCNN.2012.6252640</a>
.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='predict.ranger.html'>predict.ranger</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Marvin N. Wright</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Classification forest with default settings</span>
<span class='fu'>ranger</span><span class='op'>(</span><span class='va'>Species</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Ranger result
#&gt; 
#&gt; Call:
#&gt;  ranger(Species ~ ., data = iris) 
#&gt; 
#&gt; Type:                             Classification 
#&gt; Number of trees:                  500 
#&gt; Sample size:                      150 
#&gt; Number of independent variables:  4 
#&gt; Mtry:                             2 
#&gt; Target node size:                 1 
#&gt; Variable importance mode:         none 
#&gt; Splitrule:                        gini 
#&gt; OOB prediction error:             4.67 % </div><div class='input'>
<span class='co'>## Prediction</span>
<span class='va'>train.idx</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>)</span>, <span class='fl'>2</span><span class='op'>/</span><span class='fl'>3</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>iris.train</span> <span class='op'>&lt;-</span> <span class='va'>iris</span><span class='op'>[</span><span class='va'>train.idx</span>, <span class='op'>]</span>
<span class='va'>iris.test</span> <span class='op'>&lt;-</span> <span class='va'>iris</span><span class='op'>[</span><span class='op'>-</span><span class='va'>train.idx</span>, <span class='op'>]</span>
<span class='va'>rg.iris</span> <span class='op'>&lt;-</span> <span class='fu'>ranger</span><span class='op'>(</span><span class='va'>Species</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>iris.train</span><span class='op'>)</span>
<span class='va'>pred.iris</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>rg.iris</span>, data <span class='op'>=</span> <span class='va'>iris.test</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>iris.test</span><span class='op'>$</span><span class='va'>Species</span>, <span class='va'>pred.iris</span><span class='op'>$</span><span class='va'>predictions</span><span class='op'>)</span>
</div><div class='output co'>#&gt;             
#&gt;              setosa versicolor virginica
#&gt;   setosa         13          0         0
#&gt;   versicolor      0         17         1
#&gt;   virginica       0          1        18</div><div class='input'>
<span class='co'>## Quantile regression forest</span>
<span class='va'>rf</span> <span class='op'>&lt;-</span> <span class='fu'>ranger</span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>.</span>, <span class='va'>mtcars</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>26</span>, <span class='op'>]</span>, quantreg <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>rf</span>, <span class='va'>mtcars</span><span class='op'>[</span><span class='fl'>27</span><span class='op'>:</span><span class='fl'>32</span>, <span class='op'>]</span>, type <span class='op'>=</span> <span class='st'>"quantiles"</span><span class='op'>)</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>predictions</span>
</div><div class='output co'>#&gt;      quantile= 0.1 quantile= 0.5 quantile= 0.9
#&gt; [1,]          21.0          22.8          33.9
#&gt; [2,]          21.0          22.8          32.4
#&gt; [3,]          13.3          17.3          27.3
#&gt; [4,]          15.2          21.0          22.8
#&gt; [5,]          10.4          14.3          19.2
#&gt; [6,]          21.0          22.8          32.4</div><div class='input'>
<span class='co'>## Variable importance</span>
<span class='va'>rg.iris</span> <span class='op'>&lt;-</span> <span class='fu'>ranger</span><span class='op'>(</span><span class='va'>Species</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>iris</span>, importance <span class='op'>=</span> <span class='st'>"impurity"</span><span class='op'>)</span>
<span class='va'>rg.iris</span><span class='op'>$</span><span class='va'>variable.importance</span>
</div><div class='output co'>#&gt; Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
#&gt;     9.043881     2.185711    43.345774    44.717248 </div><div class='input'>
<span class='co'>## Survival forest</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/therneau/survival'>survival</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required package: survival</span></div><div class='input'><span class='va'>rg.veteran</span> <span class='op'>&lt;-</span> <span class='fu'>ranger</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span><span class='op'>(</span><span class='va'>time</span>, <span class='va'>status</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>veteran</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>rg.veteran</span><span class='op'>$</span><span class='va'>unique.death.times</span>, <span class='va'>rg.veteran</span><span class='op'>$</span><span class='va'>survival</span><span class='op'>[</span><span class='fl'>1</span>,<span class='op'>]</span><span class='op'>)</span>
</div><div class='img'><img src='ranger-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## Alternative interfaces (same results)</span>
<span class='fu'>ranger</span><span class='op'>(</span>dependent.variable.name <span class='op'>=</span> <span class='st'>"Species"</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Ranger result
#&gt; 
#&gt; Call:
#&gt;  ranger(dependent.variable.name = "Species", data = iris) 
#&gt; 
#&gt; Type:                             Classification 
#&gt; Number of trees:                  500 
#&gt; Sample size:                      150 
#&gt; Number of independent variables:  4 
#&gt; Mtry:                             2 
#&gt; Target node size:                 1 
#&gt; Variable importance mode:         none 
#&gt; Splitrule:                        gini 
#&gt; OOB prediction error:             4.67 % </div><div class='input'><span class='fu'>ranger</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>iris</span><span class='op'>[</span>, <span class='fl'>5</span><span class='op'>]</span>, x <span class='op'>=</span> <span class='va'>iris</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>5</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Ranger result
#&gt; 
#&gt; Call:
#&gt;  ranger(y = iris[, 5], x = iris[, -5]) 
#&gt; 
#&gt; Type:                             Classification 
#&gt; Number of trees:                  500 
#&gt; Sample size:                      150 
#&gt; Number of independent variables:  4 
#&gt; Mtry:                             2 
#&gt; Target node size:                 1 
#&gt; Variable importance mode:         none 
#&gt; Splitrule:                        gini 
#&gt; OOB prediction error:             4.67 % </div><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## Use GenABEL interface to read Plink data into R and grow a classification forest</span>
<span class='co'>## The ped and map files are not included</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>GenABEL</span><span class='op'>)</span>
<span class='fu'>convert.snp.ped</span><span class='op'>(</span><span class='st'>"data.ped"</span>, <span class='st'>"data.map"</span>, <span class='st'>"data.raw"</span><span class='op'>)</span>
<span class='va'>dat.gwaa</span> <span class='op'>&lt;-</span> <span class='fu'>load.gwaa.data</span><span class='op'>(</span><span class='st'>"data.pheno"</span>, <span class='st'>"data.raw"</span><span class='op'>)</span>
<span class='fu'>phdata</span><span class='op'>(</span><span class='va'>dat.gwaa</span><span class='op'>)</span><span class='op'>$</span><span class='va'>trait</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'>phdata</span><span class='op'>(</span><span class='va'>dat.gwaa</span><span class='op'>)</span><span class='op'>$</span><span class='va'>trait</span><span class='op'>)</span>
<span class='fu'>ranger</span><span class='op'>(</span><span class='va'>trait</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>dat.gwaa</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://wrig.de'>Marvin N. Wright</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


